<% @products.each do |product| %>
  <div class="card mb-2 product" id="product-<%= product.id %>">
    <div class="card-block">
      <div class="d-flex align-items-stretch">
        <div class="p-2">
          <% image_path = (product.image_url) ? product.image_url : 'placeholder.png' %>
          <%= link_to product_path(product) do %>
            <%= image_tag(image_path, width: 100) %>
          <% end %>
        </div>
        <div class="p-2" style="min-width: 550px;">
          <h6><%= link_to product.name, product_path(product) %></h6>
          <span class="small">by <%= product.retailer_name %></span>
          <p class="mt-1"><%= product.description.truncate(150, separator: ' ') if product.description %></p>
        </div>
        <div class="p-2 text-right" style="min-width: 100px;">
          <h6><%= number_to_currency(product.current_price, precision: 2) %></h6>
        </div>
      </div>
    </div>
  </div>
<% end %>
<%= paginate @products %>
